{"version":3,"file":"index.modern.mjs","sources":["../src/hooks/useScrollInfo.ts","../node_modules/.pnpm/next@14.0.2_@babel+core@7.23.9_react-dom@18.2.0_react@18.2.0_sass@1.71.0/node_modules/next/dist/compiled/@edge-runtime/cookies/index.js","../node_modules/.pnpm/next@14.0.2_@babel+core@7.23.9_react-dom@18.2.0_react@18.2.0_sass@1.71.0/node_modules/next/dist/server/web/spec-extension/cookies.js","../node_modules/.pnpm/next@14.0.2_@babel+core@7.23.9_react-dom@18.2.0_react@18.2.0_sass@1.71.0/node_modules/next/dist/server/web/spec-extension/adapters/reflect.js","../node_modules/.pnpm/next@14.0.2_@babel+core@7.23.9_react-dom@18.2.0_react@18.2.0_sass@1.71.0/node_modules/next/dist/server/web/spec-extension/adapters/request-cookies.js","../node_modules/.pnpm/next@14.0.2_@babel+core@7.23.9_react-dom@18.2.0_react@18.2.0_sass@1.71.0/node_modules/next/dist/server/web/spec-extension/adapters/headers.js","../node_modules/.pnpm/next@14.0.2_@babel+core@7.23.9_react-dom@18.2.0_react@18.2.0_sass@1.71.0/node_modules/next/dist/client/components/async-local-storage.js","../node_modules/.pnpm/next@14.0.2_@babel+core@7.23.9_react-dom@18.2.0_react@18.2.0_sass@1.71.0/node_modules/next/dist/client/components/request-async-storage.external.js","../node_modules/.pnpm/next@14.0.2_@babel+core@7.23.9_react-dom@18.2.0_react@18.2.0_sass@1.71.0/node_modules/next/dist/client/components/action-async-storage.external.js","../node_modules/.pnpm/next@14.0.2_@babel+core@7.23.9_react-dom@18.2.0_react@18.2.0_sass@1.71.0/node_modules/next/dist/client/components/hooks-server-context.js","../node_modules/.pnpm/next@14.0.2_@babel+core@7.23.9_react-dom@18.2.0_react@18.2.0_sass@1.71.0/node_modules/next/dist/client/components/maybe-postpone.js","../node_modules/.pnpm/next@14.0.2_@babel+core@7.23.9_react-dom@18.2.0_react@18.2.0_sass@1.71.0/node_modules/next/dist/client/components/static-generation-async-storage.external.js","../node_modules/.pnpm/next@14.0.2_@babel+core@7.23.9_react-dom@18.2.0_react@18.2.0_sass@1.71.0/node_modules/next/dist/client/components/static-generation-bailout.js","../node_modules/.pnpm/next@14.0.2_@babel+core@7.23.9_react-dom@18.2.0_react@18.2.0_sass@1.71.0/node_modules/next/dist/client/components/draft-mode.js","../node_modules/.pnpm/next@14.0.2_@babel+core@7.23.9_react-dom@18.2.0_react@18.2.0_sass@1.71.0/node_modules/next/dist/client/components/headers.js","../node_modules/.pnpm/next@14.0.2_@babel+core@7.23.9_react-dom@18.2.0_react@18.2.0_sass@1.71.0/node_modules/next/headers.js","../src/api/api-query.ts","../src/hooks/useApiQuery.ts"],"sourcesContent":["'use client'\n\nimport { useEffect, useState, useRef, useCallback } from \"react\";\n\nexport type ScrollInfo = {\n  isScrolling: boolean,\n  isPageTop: boolean,\n  isPageBottom: boolean,\n  isScrolledUp: boolean,\n  isScrolledDown: boolean,\n  scrolledPosition: number,\n  documentHeight: number,\n  viewportHeight: number,\n  timer: ReturnType<typeof setTimeout> | null,\n}\n\nexport default function useScrollInfo(pageBottomLimit = 0) {\n\n  const isServer = typeof window === 'undefined'\n  const [scrollInfo, setScrollInfo] = useState<ScrollInfo>({\n    isScrolling: false,\n    isPageTop: false,\n    isPageBottom: false,\n    isScrolledUp: true,\n    isScrolledDown: false,\n    scrolledPosition: isServer ? 0 : window.pageYOffset,\n    documentHeight: isServer ? 0 : document.documentElement.offsetHeight,\n    viewportHeight: isServer ? 0 : window.innerHeight,\n    timer: null,\n  });\n\n  const lastScrollInfo = useRef(scrollInfo);\n\n  const handleScroll = useCallback(() => {\n\n    if (lastScrollInfo.current.timer)\n      clearTimeout(lastScrollInfo.current.timer)\n\n    const documentHeight = Math.max(\n      document.body.scrollHeight,\n      document.body.offsetHeight,\n      document.documentElement.clientHeight,\n      document.documentElement.scrollHeight,\n      document.documentElement.offsetHeight\n    );\n    const viewportHeight = isServer ? 0 : window.innerHeight\n    const scrolledPosition = isServer ? 0 : Math.max(0, Math.ceil(window.pageYOffset));\n    const isPageBottom = isServer ? false : (window.innerHeight + scrolledPosition) >= documentHeight - pageBottomLimit;\n    const isPageTop = isServer ? true : window.pageYOffset <= 0;\n    const isScrolledUp = scrolledPosition < lastScrollInfo.current.scrolledPosition;\n    const isScrolledDown = scrolledPosition > lastScrollInfo.current.scrolledPosition;\n    const isScrolling = true;\n    const timer = lastScrollInfo.current.timer;\n    const scrollInfo = {\n      isScrolling,\n      isPageTop,\n      isPageBottom,\n      isScrolledUp,\n      isScrolledDown,\n      scrolledPosition,\n      documentHeight,\n      viewportHeight,\n      timer\n    };\n    setScrollInfo(scrollInfo);\n    lastScrollInfo.current = {\n      ...scrollInfo,\n      timer: setTimeout(() => setScrollInfo({ ...scrollInfo, isScrolling: false }), 100)\n    }\n\n  }, [isServer, pageBottomLimit]);\n\n  useEffect(() => {\n    handleScroll()\n    window.addEventListener(\"scroll\", handleScroll);\n    return () => {\n      window.removeEventListener(\"scroll\", handleScroll);\n    };\n  }, [handleScroll]);\n\n  return scrollInfo;\n}\n","\"use strict\";\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\n\n// src/index.ts\nvar src_exports = {};\n__export(src_exports, {\n  RequestCookies: () => RequestCookies,\n  ResponseCookies: () => ResponseCookies,\n  parseCookie: () => parseCookie,\n  parseSetCookie: () => parseSetCookie,\n  stringifyCookie: () => stringifyCookie\n});\nmodule.exports = __toCommonJS(src_exports);\n\n// src/serialize.ts\nfunction stringifyCookie(c) {\n  var _a;\n  const attrs = [\n    \"path\" in c && c.path && `Path=${c.path}`,\n    \"expires\" in c && (c.expires || c.expires === 0) && `Expires=${(typeof c.expires === \"number\" ? new Date(c.expires) : c.expires).toUTCString()}`,\n    \"maxAge\" in c && typeof c.maxAge === \"number\" && `Max-Age=${c.maxAge}`,\n    \"domain\" in c && c.domain && `Domain=${c.domain}`,\n    \"secure\" in c && c.secure && \"Secure\",\n    \"httpOnly\" in c && c.httpOnly && \"HttpOnly\",\n    \"sameSite\" in c && c.sameSite && `SameSite=${c.sameSite}`,\n    \"priority\" in c && c.priority && `Priority=${c.priority}`\n  ].filter(Boolean);\n  return `${c.name}=${encodeURIComponent((_a = c.value) != null ? _a : \"\")}; ${attrs.join(\"; \")}`;\n}\nfunction parseCookie(cookie) {\n  const map = /* @__PURE__ */ new Map();\n  for (const pair of cookie.split(/; */)) {\n    if (!pair)\n      continue;\n    const splitAt = pair.indexOf(\"=\");\n    if (splitAt === -1) {\n      map.set(pair, \"true\");\n      continue;\n    }\n    const [key, value] = [pair.slice(0, splitAt), pair.slice(splitAt + 1)];\n    try {\n      map.set(key, decodeURIComponent(value != null ? value : \"true\"));\n    } catch {\n    }\n  }\n  return map;\n}\nfunction parseSetCookie(setCookie) {\n  if (!setCookie) {\n    return void 0;\n  }\n  const [[name, value], ...attributes] = parseCookie(setCookie);\n  const {\n    domain,\n    expires,\n    httponly,\n    maxage,\n    path,\n    samesite,\n    secure,\n    priority\n  } = Object.fromEntries(\n    attributes.map(([key, value2]) => [key.toLowerCase(), value2])\n  );\n  const cookie = {\n    name,\n    value: decodeURIComponent(value),\n    domain,\n    ...expires && { expires: new Date(expires) },\n    ...httponly && { httpOnly: true },\n    ...typeof maxage === \"string\" && { maxAge: Number(maxage) },\n    path,\n    ...samesite && { sameSite: parseSameSite(samesite) },\n    ...secure && { secure: true },\n    ...priority && { priority: parsePriority(priority) }\n  };\n  return compact(cookie);\n}\nfunction compact(t) {\n  const newT = {};\n  for (const key in t) {\n    if (t[key]) {\n      newT[key] = t[key];\n    }\n  }\n  return newT;\n}\nvar SAME_SITE = [\"strict\", \"lax\", \"none\"];\nfunction parseSameSite(string) {\n  string = string.toLowerCase();\n  return SAME_SITE.includes(string) ? string : void 0;\n}\nvar PRIORITY = [\"low\", \"medium\", \"high\"];\nfunction parsePriority(string) {\n  string = string.toLowerCase();\n  return PRIORITY.includes(string) ? string : void 0;\n}\nfunction splitCookiesString(cookiesString) {\n  if (!cookiesString)\n    return [];\n  var cookiesStrings = [];\n  var pos = 0;\n  var start;\n  var ch;\n  var lastComma;\n  var nextStart;\n  var cookiesSeparatorFound;\n  function skipWhitespace() {\n    while (pos < cookiesString.length && /\\s/.test(cookiesString.charAt(pos))) {\n      pos += 1;\n    }\n    return pos < cookiesString.length;\n  }\n  function notSpecialChar() {\n    ch = cookiesString.charAt(pos);\n    return ch !== \"=\" && ch !== \";\" && ch !== \",\";\n  }\n  while (pos < cookiesString.length) {\n    start = pos;\n    cookiesSeparatorFound = false;\n    while (skipWhitespace()) {\n      ch = cookiesString.charAt(pos);\n      if (ch === \",\") {\n        lastComma = pos;\n        pos += 1;\n        skipWhitespace();\n        nextStart = pos;\n        while (pos < cookiesString.length && notSpecialChar()) {\n          pos += 1;\n        }\n        if (pos < cookiesString.length && cookiesString.charAt(pos) === \"=\") {\n          cookiesSeparatorFound = true;\n          pos = nextStart;\n          cookiesStrings.push(cookiesString.substring(start, lastComma));\n          start = pos;\n        } else {\n          pos = lastComma + 1;\n        }\n      } else {\n        pos += 1;\n      }\n    }\n    if (!cookiesSeparatorFound || pos >= cookiesString.length) {\n      cookiesStrings.push(cookiesString.substring(start, cookiesString.length));\n    }\n  }\n  return cookiesStrings;\n}\n\n// src/request-cookies.ts\nvar RequestCookies = class {\n  constructor(requestHeaders) {\n    /** @internal */\n    this._parsed = /* @__PURE__ */ new Map();\n    this._headers = requestHeaders;\n    const header = requestHeaders.get(\"cookie\");\n    if (header) {\n      const parsed = parseCookie(header);\n      for (const [name, value] of parsed) {\n        this._parsed.set(name, { name, value });\n      }\n    }\n  }\n  [Symbol.iterator]() {\n    return this._parsed[Symbol.iterator]();\n  }\n  /**\n   * The amount of cookies received from the client\n   */\n  get size() {\n    return this._parsed.size;\n  }\n  get(...args) {\n    const name = typeof args[0] === \"string\" ? args[0] : args[0].name;\n    return this._parsed.get(name);\n  }\n  getAll(...args) {\n    var _a;\n    const all = Array.from(this._parsed);\n    if (!args.length) {\n      return all.map(([_, value]) => value);\n    }\n    const name = typeof args[0] === \"string\" ? args[0] : (_a = args[0]) == null ? void 0 : _a.name;\n    return all.filter(([n]) => n === name).map(([_, value]) => value);\n  }\n  has(name) {\n    return this._parsed.has(name);\n  }\n  set(...args) {\n    const [name, value] = args.length === 1 ? [args[0].name, args[0].value] : args;\n    const map = this._parsed;\n    map.set(name, { name, value });\n    this._headers.set(\n      \"cookie\",\n      Array.from(map).map(([_, value2]) => stringifyCookie(value2)).join(\"; \")\n    );\n    return this;\n  }\n  /**\n   * Delete the cookies matching the passed name or names in the request.\n   */\n  delete(names) {\n    const map = this._parsed;\n    const result = !Array.isArray(names) ? map.delete(names) : names.map((name) => map.delete(name));\n    this._headers.set(\n      \"cookie\",\n      Array.from(map).map(([_, value]) => stringifyCookie(value)).join(\"; \")\n    );\n    return result;\n  }\n  /**\n   * Delete all the cookies in the cookies in the request.\n   */\n  clear() {\n    this.delete(Array.from(this._parsed.keys()));\n    return this;\n  }\n  /**\n   * Format the cookies in the request as a string for logging\n   */\n  [Symbol.for(\"edge-runtime.inspect.custom\")]() {\n    return `RequestCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`;\n  }\n  toString() {\n    return [...this._parsed.values()].map((v) => `${v.name}=${encodeURIComponent(v.value)}`).join(\"; \");\n  }\n};\n\n// src/response-cookies.ts\nvar ResponseCookies = class {\n  constructor(responseHeaders) {\n    /** @internal */\n    this._parsed = /* @__PURE__ */ new Map();\n    var _a, _b, _c;\n    this._headers = responseHeaders;\n    const setCookie = (_c = (_b = (_a = responseHeaders.getSetCookie) == null ? void 0 : _a.call(responseHeaders)) != null ? _b : responseHeaders.get(\"set-cookie\")) != null ? _c : [];\n    const cookieStrings = Array.isArray(setCookie) ? setCookie : splitCookiesString(setCookie);\n    for (const cookieString of cookieStrings) {\n      const parsed = parseSetCookie(cookieString);\n      if (parsed)\n        this._parsed.set(parsed.name, parsed);\n    }\n  }\n  /**\n   * {@link https://wicg.github.io/cookie-store/#CookieStore-get CookieStore#get} without the Promise.\n   */\n  get(...args) {\n    const key = typeof args[0] === \"string\" ? args[0] : args[0].name;\n    return this._parsed.get(key);\n  }\n  /**\n   * {@link https://wicg.github.io/cookie-store/#CookieStore-getAll CookieStore#getAll} without the Promise.\n   */\n  getAll(...args) {\n    var _a;\n    const all = Array.from(this._parsed.values());\n    if (!args.length) {\n      return all;\n    }\n    const key = typeof args[0] === \"string\" ? args[0] : (_a = args[0]) == null ? void 0 : _a.name;\n    return all.filter((c) => c.name === key);\n  }\n  has(name) {\n    return this._parsed.has(name);\n  }\n  /**\n   * {@link https://wicg.github.io/cookie-store/#CookieStore-set CookieStore#set} without the Promise.\n   */\n  set(...args) {\n    const [name, value, cookie] = args.length === 1 ? [args[0].name, args[0].value, args[0]] : args;\n    const map = this._parsed;\n    map.set(name, normalizeCookie({ name, value, ...cookie }));\n    replace(map, this._headers);\n    return this;\n  }\n  /**\n   * {@link https://wicg.github.io/cookie-store/#CookieStore-delete CookieStore#delete} without the Promise.\n   */\n  delete(...args) {\n    const [name, path, domain] = typeof args[0] === \"string\" ? [args[0]] : [args[0].name, args[0].path, args[0].domain];\n    return this.set({ name, path, domain, value: \"\", expires: /* @__PURE__ */ new Date(0) });\n  }\n  [Symbol.for(\"edge-runtime.inspect.custom\")]() {\n    return `ResponseCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`;\n  }\n  toString() {\n    return [...this._parsed.values()].map(stringifyCookie).join(\"; \");\n  }\n};\nfunction replace(bag, headers) {\n  headers.delete(\"set-cookie\");\n  for (const [, value] of bag) {\n    const serialized = stringifyCookie(value);\n    headers.append(\"set-cookie\", serialized);\n  }\n}\nfunction normalizeCookie(cookie = { name: \"\", value: \"\" }) {\n  if (typeof cookie.expires === \"number\") {\n    cookie.expires = new Date(cookie.expires);\n  }\n  if (cookie.maxAge) {\n    cookie.expires = new Date(Date.now() + cookie.maxAge * 1e3);\n  }\n  if (cookie.path === null || cookie.path === void 0) {\n    cookie.path = \"/\";\n  }\n  return cookie;\n}\n// Annotate the CommonJS export names for ESM import in node:\n0 && (module.exports = {\n  RequestCookies,\n  ResponseCookies,\n  parseCookie,\n  parseSetCookie,\n  stringifyCookie\n});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n0 && (module.exports = {\n    RequestCookies: null,\n    ResponseCookies: null\n});\nfunction _export(target, all) {\n    for(var name in all)Object.defineProperty(target, name, {\n        enumerable: true,\n        get: all[name]\n    });\n}\n_export(exports, {\n    RequestCookies: function() {\n        return _cookies.RequestCookies;\n    },\n    ResponseCookies: function() {\n        return _cookies.ResponseCookies;\n    }\n});\nconst _cookies = require(\"next/dist/compiled/@edge-runtime/cookies\");\n\n//# sourceMappingURL=cookies.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"ReflectAdapter\", {\n    enumerable: true,\n    get: function() {\n        return ReflectAdapter;\n    }\n});\nclass ReflectAdapter {\n    static get(target, prop, receiver) {\n        const value = Reflect.get(target, prop, receiver);\n        if (typeof value === \"function\") {\n            return value.bind(target);\n        }\n        return value;\n    }\n    static set(target, prop, value, receiver) {\n        return Reflect.set(target, prop, value, receiver);\n    }\n    static has(target, prop) {\n        return Reflect.has(target, prop);\n    }\n    static deleteProperty(target, prop) {\n        return Reflect.deleteProperty(target, prop);\n    }\n}\n\n//# sourceMappingURL=reflect.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n0 && (module.exports = {\n    ReadonlyRequestCookiesError: null,\n    RequestCookiesAdapter: null,\n    getModifiedCookieValues: null,\n    appendMutableCookies: null,\n    MutableRequestCookiesAdapter: null\n});\nfunction _export(target, all) {\n    for(var name in all)Object.defineProperty(target, name, {\n        enumerable: true,\n        get: all[name]\n    });\n}\n_export(exports, {\n    ReadonlyRequestCookiesError: function() {\n        return ReadonlyRequestCookiesError;\n    },\n    RequestCookiesAdapter: function() {\n        return RequestCookiesAdapter;\n    },\n    getModifiedCookieValues: function() {\n        return getModifiedCookieValues;\n    },\n    appendMutableCookies: function() {\n        return appendMutableCookies;\n    },\n    MutableRequestCookiesAdapter: function() {\n        return MutableRequestCookiesAdapter;\n    }\n});\nconst _cookies = require(\"../cookies\");\nconst _reflect = require(\"./reflect\");\nclass ReadonlyRequestCookiesError extends Error {\n    constructor(){\n        super(\"Cookies can only be modified in a Server Action or Route Handler. Read more: https://nextjs.org/docs/app/api-reference/functions/cookies#cookiessetname-value-options\");\n    }\n    static callable() {\n        throw new ReadonlyRequestCookiesError();\n    }\n}\nclass RequestCookiesAdapter {\n    static seal(cookies) {\n        return new Proxy(cookies, {\n            get (target, prop, receiver) {\n                switch(prop){\n                    case \"clear\":\n                    case \"delete\":\n                    case \"set\":\n                        return ReadonlyRequestCookiesError.callable;\n                    default:\n                        return _reflect.ReflectAdapter.get(target, prop, receiver);\n                }\n            }\n        });\n    }\n}\nconst SYMBOL_MODIFY_COOKIE_VALUES = Symbol.for(\"next.mutated.cookies\");\nfunction getModifiedCookieValues(cookies) {\n    const modified = cookies[SYMBOL_MODIFY_COOKIE_VALUES];\n    if (!modified || !Array.isArray(modified) || modified.length === 0) {\n        return [];\n    }\n    return modified;\n}\nfunction appendMutableCookies(headers, mutableCookies) {\n    const modifiedCookieValues = getModifiedCookieValues(mutableCookies);\n    if (modifiedCookieValues.length === 0) {\n        return false;\n    }\n    // Return a new response that extends the response with\n    // the modified cookies as fallbacks. `res` cookies\n    // will still take precedence.\n    const resCookies = new _cookies.ResponseCookies(headers);\n    const returnedCookies = resCookies.getAll();\n    // Set the modified cookies as fallbacks.\n    for (const cookie of modifiedCookieValues){\n        resCookies.set(cookie);\n    }\n    // Set the original cookies as the final values.\n    for (const cookie of returnedCookies){\n        resCookies.set(cookie);\n    }\n    return true;\n}\nclass MutableRequestCookiesAdapter {\n    static wrap(cookies, onUpdateCookies) {\n        const responseCookes = new _cookies.ResponseCookies(new Headers());\n        for (const cookie of cookies.getAll()){\n            responseCookes.set(cookie);\n        }\n        let modifiedValues = [];\n        const modifiedCookies = new Set();\n        const updateResponseCookies = ()=>{\n            var _fetch___nextGetStaticStore;\n            // TODO-APP: change method of getting staticGenerationAsyncStore\n            const staticGenerationAsyncStore = fetch.__nextGetStaticStore == null ? void 0 : (_fetch___nextGetStaticStore = fetch.__nextGetStaticStore.call(fetch)) == null ? void 0 : _fetch___nextGetStaticStore.getStore();\n            if (staticGenerationAsyncStore) {\n                staticGenerationAsyncStore.pathWasRevalidated = true;\n            }\n            const allCookies = responseCookes.getAll();\n            modifiedValues = allCookies.filter((c)=>modifiedCookies.has(c.name));\n            if (onUpdateCookies) {\n                const serializedCookies = [];\n                for (const cookie of modifiedValues){\n                    const tempCookies = new _cookies.ResponseCookies(new Headers());\n                    tempCookies.set(cookie);\n                    serializedCookies.push(tempCookies.toString());\n                }\n                onUpdateCookies(serializedCookies);\n            }\n        };\n        return new Proxy(responseCookes, {\n            get (target, prop, receiver) {\n                switch(prop){\n                    // A special symbol to get the modified cookie values\n                    case SYMBOL_MODIFY_COOKIE_VALUES:\n                        return modifiedValues;\n                    // TODO: Throw error if trying to set a cookie after the response\n                    // headers have been set.\n                    case \"delete\":\n                        return function(...args) {\n                            modifiedCookies.add(typeof args[0] === \"string\" ? args[0] : args[0].name);\n                            try {\n                                target.delete(...args);\n                            } finally{\n                                updateResponseCookies();\n                            }\n                        };\n                    case \"set\":\n                        return function(...args) {\n                            modifiedCookies.add(typeof args[0] === \"string\" ? args[0] : args[0].name);\n                            try {\n                                return target.set(...args);\n                            } finally{\n                                updateResponseCookies();\n                            }\n                        };\n                    default:\n                        return _reflect.ReflectAdapter.get(target, prop, receiver);\n                }\n            }\n        });\n    }\n}\n\n//# sourceMappingURL=request-cookies.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n0 && (module.exports = {\n    ReadonlyHeadersError: null,\n    HeadersAdapter: null\n});\nfunction _export(target, all) {\n    for(var name in all)Object.defineProperty(target, name, {\n        enumerable: true,\n        get: all[name]\n    });\n}\n_export(exports, {\n    ReadonlyHeadersError: function() {\n        return ReadonlyHeadersError;\n    },\n    HeadersAdapter: function() {\n        return HeadersAdapter;\n    }\n});\nconst _reflect = require(\"./reflect\");\nclass ReadonlyHeadersError extends Error {\n    constructor(){\n        super(\"Headers cannot be modified. Read more: https://nextjs.org/docs/app/api-reference/functions/headers\");\n    }\n    static callable() {\n        throw new ReadonlyHeadersError();\n    }\n}\nclass HeadersAdapter extends Headers {\n    constructor(headers){\n        // We've already overridden the methods that would be called, so we're just\n        // calling the super constructor to ensure that the instanceof check works.\n        super();\n        this.headers = new Proxy(headers, {\n            get (target, prop, receiver) {\n                // Because this is just an object, we expect that all \"get\" operations\n                // are for properties. If it's a \"get\" for a symbol, we'll just return\n                // the symbol.\n                if (typeof prop === \"symbol\") {\n                    return _reflect.ReflectAdapter.get(target, prop, receiver);\n                }\n                const lowercased = prop.toLowerCase();\n                // Let's find the original casing of the key. This assumes that there is\n                // no mixed case keys (e.g. \"Content-Type\" and \"content-type\") in the\n                // headers object.\n                const original = Object.keys(headers).find((o)=>o.toLowerCase() === lowercased);\n                // If the original casing doesn't exist, return undefined.\n                if (typeof original === \"undefined\") return;\n                // If the original casing exists, return the value.\n                return _reflect.ReflectAdapter.get(target, original, receiver);\n            },\n            set (target, prop, value, receiver) {\n                if (typeof prop === \"symbol\") {\n                    return _reflect.ReflectAdapter.set(target, prop, value, receiver);\n                }\n                const lowercased = prop.toLowerCase();\n                // Let's find the original casing of the key. This assumes that there is\n                // no mixed case keys (e.g. \"Content-Type\" and \"content-type\") in the\n                // headers object.\n                const original = Object.keys(headers).find((o)=>o.toLowerCase() === lowercased);\n                // If the original casing doesn't exist, use the prop as the key.\n                return _reflect.ReflectAdapter.set(target, original ?? prop, value, receiver);\n            },\n            has (target, prop) {\n                if (typeof prop === \"symbol\") return _reflect.ReflectAdapter.has(target, prop);\n                const lowercased = prop.toLowerCase();\n                // Let's find the original casing of the key. This assumes that there is\n                // no mixed case keys (e.g. \"Content-Type\" and \"content-type\") in the\n                // headers object.\n                const original = Object.keys(headers).find((o)=>o.toLowerCase() === lowercased);\n                // If the original casing doesn't exist, return false.\n                if (typeof original === \"undefined\") return false;\n                // If the original casing exists, return true.\n                return _reflect.ReflectAdapter.has(target, original);\n            },\n            deleteProperty (target, prop) {\n                if (typeof prop === \"symbol\") return _reflect.ReflectAdapter.deleteProperty(target, prop);\n                const lowercased = prop.toLowerCase();\n                // Let's find the original casing of the key. This assumes that there is\n                // no mixed case keys (e.g. \"Content-Type\" and \"content-type\") in the\n                // headers object.\n                const original = Object.keys(headers).find((o)=>o.toLowerCase() === lowercased);\n                // If the original casing doesn't exist, return true.\n                if (typeof original === \"undefined\") return true;\n                // If the original casing exists, delete the property.\n                return _reflect.ReflectAdapter.deleteProperty(target, original);\n            }\n        });\n    }\n    /**\n   * Seals a Headers instance to prevent modification by throwing an error when\n   * any mutating method is called.\n   */ static seal(headers) {\n        return new Proxy(headers, {\n            get (target, prop, receiver) {\n                switch(prop){\n                    case \"append\":\n                    case \"delete\":\n                    case \"set\":\n                        return ReadonlyHeadersError.callable;\n                    default:\n                        return _reflect.ReflectAdapter.get(target, prop, receiver);\n                }\n            }\n        });\n    }\n    /**\n   * Merges a header value into a string. This stores multiple values as an\n   * array, so we need to merge them into a string.\n   *\n   * @param value a header value\n   * @returns a merged header value (a string)\n   */ merge(value) {\n        if (Array.isArray(value)) return value.join(\", \");\n        return value;\n    }\n    /**\n   * Creates a Headers instance from a plain object or a Headers instance.\n   *\n   * @param headers a plain object or a Headers instance\n   * @returns a headers instance\n   */ static from(headers) {\n        if (headers instanceof Headers) return headers;\n        return new HeadersAdapter(headers);\n    }\n    append(name, value) {\n        const existing = this.headers[name];\n        if (typeof existing === \"string\") {\n            this.headers[name] = [\n                existing,\n                value\n            ];\n        } else if (Array.isArray(existing)) {\n            existing.push(value);\n        } else {\n            this.headers[name] = value;\n        }\n    }\n    delete(name) {\n        delete this.headers[name];\n    }\n    get(name) {\n        const value = this.headers[name];\n        if (typeof value !== \"undefined\") return this.merge(value);\n        return null;\n    }\n    has(name) {\n        return typeof this.headers[name] !== \"undefined\";\n    }\n    set(name, value) {\n        this.headers[name] = value;\n    }\n    forEach(callbackfn, thisArg) {\n        for (const [name, value] of this.entries()){\n            callbackfn.call(thisArg, value, name, this);\n        }\n    }\n    *entries() {\n        for (const key of Object.keys(this.headers)){\n            const name = key.toLowerCase();\n            // We assert here that this is a string because we got it from the\n            // Object.keys() call above.\n            const value = this.get(name);\n            yield [\n                name,\n                value\n            ];\n        }\n    }\n    *keys() {\n        for (const key of Object.keys(this.headers)){\n            const name = key.toLowerCase();\n            yield name;\n        }\n    }\n    *values() {\n        for (const key of Object.keys(this.headers)){\n            // We assert here that this is a string because we got it from the\n            // Object.keys() call above.\n            const value = this.get(key);\n            yield value;\n        }\n    }\n    [Symbol.iterator]() {\n        return this.entries();\n    }\n}\n\n//# sourceMappingURL=headers.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"createAsyncLocalStorage\", {\n    enumerable: true,\n    get: function() {\n        return createAsyncLocalStorage;\n    }\n});\nconst sharedAsyncLocalStorageNotAvailableError = new Error(\"Invariant: AsyncLocalStorage accessed in runtime where it is not available\");\nclass FakeAsyncLocalStorage {\n    disable() {\n        throw sharedAsyncLocalStorageNotAvailableError;\n    }\n    getStore() {\n        // This fake implementation of AsyncLocalStorage always returns `undefined`.\n        return undefined;\n    }\n    run() {\n        throw sharedAsyncLocalStorageNotAvailableError;\n    }\n    exit() {\n        throw sharedAsyncLocalStorageNotAvailableError;\n    }\n    enterWith() {\n        throw sharedAsyncLocalStorageNotAvailableError;\n    }\n}\nconst maybeGlobalAsyncLocalStorage = globalThis.AsyncLocalStorage;\nfunction createAsyncLocalStorage() {\n    if (maybeGlobalAsyncLocalStorage) {\n        return new maybeGlobalAsyncLocalStorage();\n    }\n    return new FakeAsyncLocalStorage();\n}\n\nif ((typeof exports.default === 'function' || (typeof exports.default === 'object' && exports.default !== null)) && typeof exports.default.__esModule === 'undefined') {\n  Object.defineProperty(exports.default, '__esModule', { value: true });\n  Object.assign(exports.default, exports);\n  module.exports = exports.default;\n}\n\n//# sourceMappingURL=async-local-storage.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"requestAsyncStorage\", {\n    enumerable: true,\n    get: function() {\n        return requestAsyncStorage;\n    }\n});\nconst _asynclocalstorage = require(\"./async-local-storage\");\nconst requestAsyncStorage = (0, _asynclocalstorage.createAsyncLocalStorage)();\n\nif ((typeof exports.default === 'function' || (typeof exports.default === 'object' && exports.default !== null)) && typeof exports.default.__esModule === 'undefined') {\n  Object.defineProperty(exports.default, '__esModule', { value: true });\n  Object.assign(exports.default, exports);\n  module.exports = exports.default;\n}\n\n//# sourceMappingURL=request-async-storage.external.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"actionAsyncStorage\", {\n    enumerable: true,\n    get: function() {\n        return actionAsyncStorage;\n    }\n});\nconst _asynclocalstorage = require(\"./async-local-storage\");\nconst actionAsyncStorage = (0, _asynclocalstorage.createAsyncLocalStorage)();\n\nif ((typeof exports.default === 'function' || (typeof exports.default === 'object' && exports.default !== null)) && typeof exports.default.__esModule === 'undefined') {\n  Object.defineProperty(exports.default, '__esModule', { value: true });\n  Object.assign(exports.default, exports);\n  module.exports = exports.default;\n}\n\n//# sourceMappingURL=action-async-storage.external.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n0 && (module.exports = {\n    DYNAMIC_ERROR_CODE: null,\n    DynamicServerError: null\n});\nfunction _export(target, all) {\n    for(var name in all)Object.defineProperty(target, name, {\n        enumerable: true,\n        get: all[name]\n    });\n}\n_export(exports, {\n    DYNAMIC_ERROR_CODE: function() {\n        return DYNAMIC_ERROR_CODE;\n    },\n    DynamicServerError: function() {\n        return DynamicServerError;\n    }\n});\nconst DYNAMIC_ERROR_CODE = \"DYNAMIC_SERVER_USAGE\";\nclass DynamicServerError extends Error {\n    constructor(type){\n        super(\"Dynamic server usage: \" + type);\n        this.digest = DYNAMIC_ERROR_CODE;\n    }\n}\n\nif ((typeof exports.default === 'function' || (typeof exports.default === 'object' && exports.default !== null)) && typeof exports.default.__esModule === 'undefined') {\n  Object.defineProperty(exports.default, '__esModule', { value: true });\n  Object.assign(exports.default, exports);\n  module.exports = exports.default;\n}\n\n//# sourceMappingURL=hooks-server-context.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"maybePostpone\", {\n    enumerable: true,\n    get: function() {\n        return maybePostpone;\n    }\n});\nfunction maybePostpone(staticGenerationStore, reason) {\n    // If we aren't performing a static generation or we aren't using PPR then\n    // we don't need to postpone.\n    if (!staticGenerationStore.isStaticGeneration || !staticGenerationStore.experimental.ppr) {\n        return;\n    }\n    if (!staticGenerationStore.postpone) {\n        throw new Error(\"Invariant: PPR is enabled but the postpone API is unavailable\");\n    }\n    // Keep track of if the postpone API has been called.\n    staticGenerationStore.postponeWasTriggered = true;\n    staticGenerationStore.postpone(\"This page needs to bail out of prerendering at this point because it used \" + reason + \". \" + \"React throws this special object to indicate where. It should not be caught by \" + \"your own try/catch. Learn more: https://nextjs.org/docs/messages/ppr-caught-error\");\n}\n\nif ((typeof exports.default === 'function' || (typeof exports.default === 'object' && exports.default !== null)) && typeof exports.default.__esModule === 'undefined') {\n  Object.defineProperty(exports.default, '__esModule', { value: true });\n  Object.assign(exports.default, exports);\n  module.exports = exports.default;\n}\n\n//# sourceMappingURL=maybe-postpone.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"staticGenerationAsyncStorage\", {\n    enumerable: true,\n    get: function() {\n        return staticGenerationAsyncStorage;\n    }\n});\nconst _asynclocalstorage = require(\"./async-local-storage\");\nconst staticGenerationAsyncStorage = (0, _asynclocalstorage.createAsyncLocalStorage)();\n\nif ((typeof exports.default === 'function' || (typeof exports.default === 'object' && exports.default !== null)) && typeof exports.default.__esModule === 'undefined') {\n  Object.defineProperty(exports.default, '__esModule', { value: true });\n  Object.assign(exports.default, exports);\n  module.exports = exports.default;\n}\n\n//# sourceMappingURL=static-generation-async-storage.external.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"staticGenerationBailout\", {\n    enumerable: true,\n    get: function() {\n        return staticGenerationBailout;\n    }\n});\nconst _hooksservercontext = require(\"./hooks-server-context\");\nconst _maybepostpone = require(\"./maybe-postpone\");\nconst _staticgenerationasyncstorageexternal = require(\"./static-generation-async-storage.external\");\nclass StaticGenBailoutError extends Error {\n    constructor(...args){\n        super(...args);\n        this.code = \"NEXT_STATIC_GEN_BAILOUT\";\n    }\n}\nfunction formatErrorMessage(reason, opts) {\n    const { dynamic, link } = opts || {};\n    const suffix = link ? \" See more info here: \" + link : \"\";\n    return \"Page\" + (dynamic ? ' with `dynamic = \"' + dynamic + '\"`' : \"\") + \" couldn't be rendered statically because it used `\" + reason + \"`.\" + suffix;\n}\nconst staticGenerationBailout = (reason, opts)=>{\n    const staticGenerationStore = _staticgenerationasyncstorageexternal.staticGenerationAsyncStorage.getStore();\n    if (!staticGenerationStore) return false;\n    if (staticGenerationStore.forceStatic) {\n        return true;\n    }\n    if (staticGenerationStore.dynamicShouldError) {\n        var _opts_dynamic;\n        throw new StaticGenBailoutError(formatErrorMessage(reason, {\n            ...opts,\n            dynamic: (_opts_dynamic = opts == null ? void 0 : opts.dynamic) != null ? _opts_dynamic : \"error\"\n        }));\n    }\n    const message = formatErrorMessage(reason, {\n        ...opts,\n        // this error should be caught by Next to bail out of static generation\n        // in case it's uncaught, this link provides some additional context as to why\n        link: \"https://nextjs.org/docs/messages/dynamic-server-error\"\n    });\n    (0, _maybepostpone.maybePostpone)(staticGenerationStore, reason);\n    // As this is a bailout, we don't want to revalidate, so set the revalidate\n    // to 0.\n    staticGenerationStore.revalidate = 0;\n    if (!(opts == null ? void 0 : opts.dynamic)) {\n        // we can statically prefetch pages that opt into dynamic,\n        // but not things like headers/cookies\n        staticGenerationStore.staticPrefetchBailout = true;\n    }\n    if (staticGenerationStore.isStaticGeneration) {\n        const err = new _hooksservercontext.DynamicServerError(message);\n        staticGenerationStore.dynamicUsageDescription = reason;\n        staticGenerationStore.dynamicUsageStack = err.stack;\n        throw err;\n    }\n    return false;\n};\n\nif ((typeof exports.default === 'function' || (typeof exports.default === 'object' && exports.default !== null)) && typeof exports.default.__esModule === 'undefined') {\n  Object.defineProperty(exports.default, '__esModule', { value: true });\n  Object.assign(exports.default, exports);\n  module.exports = exports.default;\n}\n\n//# sourceMappingURL=static-generation-bailout.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"DraftMode\", {\n    enumerable: true,\n    get: function() {\n        return DraftMode;\n    }\n});\nconst _staticgenerationbailout = require(\"./static-generation-bailout\");\nclass DraftMode {\n    get isEnabled() {\n        return this._provider.isEnabled;\n    }\n    enable() {\n        if ((0, _staticgenerationbailout.staticGenerationBailout)(\"draftMode().enable()\")) {\n            return;\n        }\n        return this._provider.enable();\n    }\n    disable() {\n        if ((0, _staticgenerationbailout.staticGenerationBailout)(\"draftMode().disable()\")) {\n            return;\n        }\n        return this._provider.disable();\n    }\n    constructor(provider){\n        this._provider = provider;\n    }\n}\n\nif ((typeof exports.default === 'function' || (typeof exports.default === 'object' && exports.default !== null)) && typeof exports.default.__esModule === 'undefined') {\n  Object.defineProperty(exports.default, '__esModule', { value: true });\n  Object.assign(exports.default, exports);\n  module.exports = exports.default;\n}\n\n//# sourceMappingURL=draft-mode.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n0 && (module.exports = {\n    headers: null,\n    cookies: null,\n    draftMode: null\n});\nfunction _export(target, all) {\n    for(var name in all)Object.defineProperty(target, name, {\n        enumerable: true,\n        get: all[name]\n    });\n}\n_export(exports, {\n    headers: function() {\n        return headers;\n    },\n    cookies: function() {\n        return cookies;\n    },\n    draftMode: function() {\n        return draftMode;\n    }\n});\nconst _requestcookies = require(\"../../server/web/spec-extension/adapters/request-cookies\");\nconst _headers = require(\"../../server/web/spec-extension/adapters/headers\");\nconst _cookies = require(\"../../server/web/spec-extension/cookies\");\nconst _requestasyncstorageexternal = require(\"./request-async-storage.external\");\nconst _actionasyncstorageexternal = require(\"./action-async-storage.external\");\nconst _staticgenerationbailout = require(\"./static-generation-bailout\");\nconst _draftmode = require(\"./draft-mode\");\nfunction headers() {\n    if ((0, _staticgenerationbailout.staticGenerationBailout)(\"headers\", {\n        link: \"https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering\"\n    })) {\n        return _headers.HeadersAdapter.seal(new Headers({}));\n    }\n    const requestStore = _requestasyncstorageexternal.requestAsyncStorage.getStore();\n    if (!requestStore) {\n        throw new Error(\"Invariant: headers() expects to have requestAsyncStorage, none available.\");\n    }\n    return requestStore.headers;\n}\nfunction cookies() {\n    if ((0, _staticgenerationbailout.staticGenerationBailout)(\"cookies\", {\n        link: \"https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering\"\n    })) {\n        return _requestcookies.RequestCookiesAdapter.seal(new _cookies.RequestCookies(new Headers({})));\n    }\n    const requestStore = _requestasyncstorageexternal.requestAsyncStorage.getStore();\n    if (!requestStore) {\n        throw new Error(\"Invariant: cookies() expects to have requestAsyncStorage, none available.\");\n    }\n    const asyncActionStore = _actionasyncstorageexternal.actionAsyncStorage.getStore();\n    if (asyncActionStore && (asyncActionStore.isAction || asyncActionStore.isAppRoute)) {\n        // We can't conditionally return different types here based on the context.\n        // To avoid confusion, we always return the readonly type here.\n        return requestStore.mutableCookies;\n    }\n    return requestStore.cookies;\n}\nfunction draftMode() {\n    const requestStore = _requestasyncstorageexternal.requestAsyncStorage.getStore();\n    if (!requestStore) {\n        throw new Error(\"Invariant: draftMode() expects to have requestAsyncStorage, none available.\");\n    }\n    return new _draftmode.DraftMode(requestStore.draftMode);\n}\n\nif ((typeof exports.default === 'function' || (typeof exports.default === 'object' && exports.default !== null)) && typeof exports.default.__esModule === 'undefined') {\n  Object.defineProperty(exports.default, '__esModule', { value: true });\n  Object.assign(exports.default, exports);\n  module.exports = exports.default;\n}\n\n//# sourceMappingURL=headers.js.map","module.exports = require('./dist/client/components/headers')\n","'use server'\n\nimport { draftMode } from 'next/headers.js'\nimport type { RequestInit } from 'next/dist/server/web/spec-extension/request.js'\nimport type { DocumentNode, FieldNode, OperationDefinitionNode, VariableDefinitionNode } from 'graphql'\nimport { print } from 'graphql/language/printer.js'\nimport { cache } from 'react';\nimport { traverse } from 'object-traversal';\nimport isInteger from 'is-integer';\n\nexport type ApiQueryOptions<V = void> = {\n  variables?: V;\n  includeDrafts?: boolean;\n  excludeInvalid?: boolean;\n  visualEditingBaseUrl?: string | undefined;\n  revalidate?: number | undefined;\n  tags?: string[] | undefined,\n  generateTags?: boolean\n  maxTags?: number\n  logs?: boolean\n  all?: boolean\n};\n\nexport type DefaultApiQueryOptions = ApiQueryOptions & {\n  variables: undefined,\n  includeDrafts: boolean,\n  excludeInvalid: boolean,\n  visualEditingBaseUrl: string | undefined,\n  revalidate: number | undefined,\n  tags: string[] | undefined,\n  generateTags: boolean,\n  maxTags: number,\n  logs: boolean\n  all: boolean\n}\n\nconst defaultOptions: DefaultApiQueryOptions = {\n  variables: undefined,\n  includeDrafts: false,\n  excludeInvalid: true,\n  visualEditingBaseUrl: undefined,\n  revalidate: isInteger(process.env.REVALIDATE_TIME) ? parseInt(process.env.REVALIDATE_TIME) : 3600,\n  tags: undefined,\n  generateTags: true,\n  maxTags: 100,\n  logs: false,\n  all: false\n};\n\n\nexport default async function apiQuery<T, V = void>(query: DocumentNode, options?: ApiQueryOptions<V>): Promise<T & { draftUrl: string | null }> {\n\n  const opt = { ...defaultOptions, ...(options ?? {}) };\n\n  opt.generateTags = process.env.NEXT_DATO_UTILS_DISABLE_TAGS ? false : opt.generateTags\n  opt.logs = process.env.NEXT_DATO_UTILS_ENABLE_LOGS ? true : opt.logs\n\n  if (!process.env.DATOCMS_API_TOKEN && !process.env.NEXT_PUBLIC_DATOCMS_API_TOKEN)\n    throw new Error('DATOCMS_API_TOKEN is not set')\n  if (!process.env.DATOCMS_ENVIRONMENT && !process.env.NEXT_PUBLIC_DATOCMS_ENVIRONMENT)\n    throw new Error('DATOCMS_ENVIRONMENT is not set')\n\n  const queryId = (query.definitions?.[0] as any).name?.value as string\n\n  if (typeof options?.includeDrafts === 'undefined')\n    try { opt.includeDrafts = draftMode().isEnabled } catch (e) { }\n\n  const dedupeOptions: DedupeOptions = {\n    body: JSON.stringify({ query: print(query), variables: options?.variables }) as string,\n    ...opt,\n    queryId\n  }\n\n  const tags = opt.generateTags ? generateIdTags(await dedupedFetch(dedupeOptions), opt.tags, opt.maxTags) : opt.tags\n  const res = opt.includeDrafts ? await dedupedFetch({ ...dedupeOptions, tags, url: 'https://graphql-listen.datocms.com/preview' }) : {}\n\n  opt.logs && console.log('[api-query]', 'calling', queryId)\n  const { data } = await dedupedFetch({ ...dedupeOptions, tags });\n\n  if (opt.all) {\n    const paginatedData = await paginatedQuery<T, V>(query, opt, data, queryId)\n    return { ...paginatedData, draftUrl: res.url ?? null }\n  }\n\n  return { ...data, draftUrl: res.url ?? null }\n}\n\n\nconst paginatedQuery = async <T, V = void>(query: DocumentNode, options: ApiQueryOptions<any>, data: any, queryId: string): Promise<T> => {\n\n  try {\n\n    if (typeof data !== 'object' || data === null || data === undefined)\n      throw new Error('Data must be an object')\n\n    const operation = query.definitions?.find(({ kind }) => kind === 'OperationDefinition') as OperationDefinitionNode\n\n    if (!operation)\n      throw new Error('Query must have an operation definition')\n\n    const firstVariable = operation.variableDefinitions?.find(v => v.variable.name.value === 'first') as VariableDefinitionNode\n    const skipVariable = operation.variableDefinitions?.find(v => v.variable.name.value === 'skip') as VariableDefinitionNode\n\n    if (!firstVariable || !skipVariable)\n      throw new Error(`Query must have first and skip variables`)\n\n    const pageKeys = Object.keys(data).filter(k => k.startsWith('_all') && k.endsWith('Meta'))\n\n    if (pageKeys.length === 0)\n      throw new Error('Query must have at least one paginated field')\n\n    const pageKeyMap = pageKeys.reduce<{ [key: string]: string }>((acc, cur) => {\n      acc[cur] = `${cur.substring(1, cur.length - 'Meta'.length)}`\n      return acc\n    }, {})\n\n    // Check filter diff\n    Object.keys(pageKeyMap).forEach(k => {\n      const filter = (operation.selectionSet.selections.find(s => (s as FieldNode).name.value === k) as FieldNode)?.arguments?.find(a => a.name.value === 'filter')\n      const metaFilter = (operation.selectionSet.selections.find(s => (s as FieldNode).name.value === pageKeyMap[k]) as FieldNode)?.arguments?.find(a => a.name.value === 'filter')\n      if ((!filter && metaFilter) || (filter && !metaFilter) || JSON.stringify(filter) !== JSON.stringify(metaFilter))\n        throw new Error(`Query must have same filter argument on ${k} and ${pageKeyMap[k]}`)\n    })\n\n    const first = options.variables?.first ?? (firstVariable?.defaultValue as any)?.value ?? 100\n\n    if (first > 100)\n      throw new Error('\"first\" variable must be less than or equal to 100')\n\n    let count = 0\n\n    while (Object.keys(pageKeyMap).some(k => data[k].count > data[pageKeyMap[k]].length)) {\n      const maxPageKey = pageKeyMap[Object.keys(pageKeyMap).sort((a, b) => data[a].count > data[b].count ? -1 : 1)[0]]\n      const skip = data[maxPageKey].length\n\n      const pageData: any = await apiQuery(query, {\n        ...options,\n        all: false,\n        variables: {\n          ...options.variables,\n          first,\n          skip\n        }\n      })\n\n      Object.keys(pageKeyMap).forEach(k =>\n        data[pageKeyMap[k]] = [...data[pageKeyMap[k]], ...pageData[pageKeyMap[k]]]\n      )\n\n      if (++count > 1000) {\n        throw new Error('Paginated query exceeded 1000 requests')\n      }\n    }\n\n    return data\n  } catch (e) {\n    throw new Error(`${queryId}: ${(e as Error).message}`)\n  }\n}\n\nexport type DedupeOptions = {\n  url?: string\n  body: string;\n  includeDrafts: boolean;\n  excludeInvalid: boolean;\n  visualEditingBaseUrl: string | undefined;\n  revalidate?: number;\n  tags?: string[] | undefined\n  queryId: string,\n  logs: boolean\n}\n\nconst dedupedFetch = cache(async (options: DedupeOptions) => {\n  const {\n    url,\n    body,\n    includeDrafts,\n    excludeInvalid,\n    visualEditingBaseUrl,\n    revalidate,\n    tags,\n    queryId,\n    logs\n  } = options;\n\n  const headers = {\n    'Authorization': `Bearer ${process.env.DATOCMS_API_TOKEN ?? process.env.NEXT_PUBLIC_DATOCMS_API_TOKEN}`,\n    ...(includeDrafts ? { 'X-Include-Drafts': 'true' } : {}),\n    ...(excludeInvalid ? { 'X-Exclude-Invalid': 'true' } : {}),\n    ...(visualEditingBaseUrl\n      ? {\n        'X-Visual-Editing': 'vercel-v1',\n        'X-Base-Editing-Url': visualEditingBaseUrl,\n      }\n      : {}),\n    ...(process.env.DATOCMS_ENVIRONMENT\n      ? { 'X-Environment': process.env.DATOCMS_ENVIRONMENT ?? process.env.NEXT_PUBLIC_DATOCMS_ENVIRONMENT }\n      : {}),\n  } as unknown as HeadersInit\n\n  const response = await fetch(url ?? 'https://graphql.datocms.com/', {\n    method: 'POST',\n    headers,\n    body,\n    next: {\n      revalidate,\n      tags: Array.isArray(tags) ? tags : undefined\n    }\n  } as RequestInit);\n\n  const responseBody = await response.json();\n\n  if (!response.ok)\n    throw new Error(`${response.status} ${response.statusText}: ${JSON.stringify(responseBody)}`);\n  if (responseBody.errors)\n    throw new Error(`${queryId}: ${responseBody.errors.map((e: any) => e.message).join('. ')}`);\n\n  logs && console.log('[api-query]', queryId, { ...options, body: undefined }, `tags: ${tags?.length ?? 0}`, response.headers.get('x-cache'))\n  return responseBody;\n})\n\nconst generateIdTags = (data: any, tags: string[] | undefined, maxTags: number): string[] => {\n\n  const allTags: string[] = tags?.length ? tags : []\n  traverse(data, ({ key, value }) => key === 'id' && allTags.push(String(value)))\n  const uniqueTags = allTags.filter((value, index, self) => self.indexOf(value) === index).filter(t => t)\n  return uniqueTags.slice(0, maxTags)\n}\n\n","'use client';\n\nimport type { DocumentNode } from 'graphql';\nimport { useEffect, useState, useCallback } from \"react\";\nimport { apiQuery } from '../api/index.js';\n\nexport type UseApiQueryProps = {\n  variables?: any\n  initialData?: any\n  pageSize?: number\n  includeDrafts?: boolean\n}\n\nexport type Pagination = {\n  no: number,\n  count: number,\n  size: number,\n  end: boolean\n}\n\nconst useApiQuery = <T, V>(document: DocumentNode, { variables, initialData, pageSize = 100, includeDrafts = false }: UseApiQueryProps = {}) => {\n\n  const [initial, setInitial] = useState<T>(initialData)\n  const [data, setData] = useState<T>(initialData)\n  const [page, setPage] = useState<Pagination | undefined>(pageSize ? {\n    no: 1,\n    count: initialData.pagination?.count || 0,\n    size: pageSize,\n    end: initialData.pagination?.count > 0 ? initialData.pagination?.count <= pageSize : false\n  } : undefined)\n  const [error, setError] = useState<Error | undefined>()\n  const [loading, setLoading] = useState(false)\n\n  useEffect(() => {\n    if (JSON.stringify(initialData) !== JSON.stringify(initial)) {\n      setData(initialData)\n      setInitial(initialData)\n    }\n  }, [initialData])\n\n  const loadMore = (vars: any) => load(vars)\n\n  const load = useCallback((vars?: any) => {\n    setLoading(true)\n\n    return apiQuery<T, V>(document, { variables: { ...variables, ...vars }, includeDrafts })\n      .then((res: any) => {\n        const d = mergeData(res, data)\n        setData(d)\n        return d\n      })\n      .finally(() => setLoading(false))\n\n  }, [document, variables, data])\n\n  const nextPage = useCallback(async () => {\n    if (!page)\n      return setError(new Error('No page size set!'))\n\n    const first = page.size\n    const skip = page.no * page.size\n\n    if (skip > page.count && page.count > 0)\n      return page\n\n    try {\n      const d = await load({ ...variables.variables, first, skip })\n      const k = Object.keys(d).find(k => typeof d[k].count === 'number')\n      if (!k) throw new Error('No count found in response')\n      const count = d[k]?.count || 0;\n      const no = page.no + 1\n      const end = no * pageSize >= count\n      const p = { ...page, no, count, end }\n\n      setPage(p)\n      return p;\n\n    } catch (err) {\n      setError(err as Error)\n      return page;\n    }\n  }, [page, variables, pageSize, setPage, setError, load])\n\n  const mergeData = (newData: any, oldData: any) => {\n\n    if (!oldData || !newData) return newData\n\n    Object.keys(newData).forEach(k => {\n      if (oldData[k] && Array.isArray(oldData[k]))\n        newData[k] = oldData[k].concat(newData[k])\n    })\n\n    return newData;\n  }\n\n  useEffect(() => { !initialData && load() }, [initialData, load])\n\n  return { data, error, loading, loadMore, nextPage, page }\n};\n\nexport default useApiQuery"],"names":["useScrollInfo","pageBottomLimit","isServer","window","_useState","useState","isScrolling","isPageTop","isPageBottom","isScrolledUp","isScrolledDown","scrolledPosition","pageYOffset","documentHeight","document","documentElement","offsetHeight","viewportHeight","innerHeight","timer","scrollInfo","setScrollInfo","lastScrollInfo","useRef","handleScroll","useCallback","current","clearTimeout","Math","max","body","scrollHeight","clientHeight","ceil","_extends","setTimeout","useEffect","addEventListener","removeEventListener","mod","__defProp","Object","defineProperty","__getOwnPropDesc","getOwnPropertyDescriptor","__getOwnPropNames","getOwnPropertyNames","__hasOwnProp","prototype","hasOwnProperty","src_exports","stringifyCookie","c","_a","attrs","path","expires","Date","toUTCString","maxAge","domain","secure","httpOnly","sameSite","priority","filter","Boolean","name","encodeURIComponent","value","join","parseCookie","cookie","map","Map","pair","split","splitAt","indexOf","set","key","slice","decodeURIComponent","parseSetCookie","setCookie","attributes","httponly","maxage","samesite","fromEntries","value2","toLowerCase","t","newT","compact","Number","string","SAME_SITE","includes","parsePriority","target","all","get","enumerable","__export","RequestCookies","ResponseCookies","module","exports","to","from","except","desc","call","__copyProps","PRIORITY","constructor","requestHeaders","this","_parsed","_headers","header","parsed","Symbol","iterator","size","args","getAll","Array","length","_","n","has","names","result","isArray","delete","clear","keys","for","JSON","stringify","toString","values","v","responseHeaders","_b","_c","getSetCookie","cookieStrings","cookiesString","start","ch","lastComma","nextStart","cookiesSeparatorFound","cookiesStrings","pos","skipWhitespace","test","charAt","push","substring","splitCookiesString","cookieString","now","normalizeCookie","bag","headers","serialized","append","replace","_export","_cookies","ReflectAdapter","prop","receiver","Reflect","bind","deleteProperty","ReadonlyRequestCookiesError","RequestCookiesAdapter","getModifiedCookieValues","appendMutableCookies","MutableRequestCookiesAdapter","Error","super","callable","seal","cookies","Proxy","_reflect","SYMBOL_MODIFY_COOKIE_VALUES","modified","mutableCookies","modifiedCookieValues","resCookies","returnedCookies","wrap","onUpdateCookies","responseCookes","Headers","modifiedValues","modifiedCookies","Set","updateResponseCookies","_fetch___nextGetStaticStore","staticGenerationAsyncStore","fetch","__nextGetStaticStore","getStore","pathWasRevalidated","allCookies","serializedCookies","tempCookies","add","ReadonlyHeadersError","HeadersAdapter","lowercased","original","find","o","merge","existing","forEach","callbackfn","thisArg","entries","createAsyncLocalStorage","sharedAsyncLocalStorageNotAvailableError","FakeAsyncLocalStorage","disable","run","exit","enterWith","maybeGlobalAsyncLocalStorage","globalThis","AsyncLocalStorage","default","__esModule","assign","requestAsyncStorage","_asynclocalstorage","actionAsyncStorage","DYNAMIC_ERROR_CODE","DynamicServerError","type","digest","maybePostpone","staticGenerationStore","reason","isStaticGeneration","experimental","ppr","postpone","postponeWasTriggered","staticGenerationAsyncStorage","staticGenerationBailout","StaticGenBailoutError","code","formatErrorMessage","opts","dynamic","link","_staticgenerationasyncstorageexternal","forceStatic","_opts_dynamic","dynamicShouldError","message","_maybepostpone","revalidate","staticPrefetchBailout","err","_hooksservercontext","dynamicUsageDescription","dynamicUsageStack","stack","DraftMode","isEnabled","_provider","enable","_staticgenerationbailout","provider","requestStore","_requestasyncstorageexternal","_requestcookies","asyncActionStore","_actionasyncstorageexternal","isAction","isAppRoute","draftMode","_draftmode","require$$0","_settle","pact","state","s","_Pact","then","observer","apiQuery","query","options","_temp5","_query$definitions$0$","_query$definitions","_res$url2","data","_dedupedFetch","_temp4","res","opt","logs","console","log","queryId","Promise","resolve","dedupedFetch","dedupeOptions","tags","_dedupedFetch2","_exit2","_temp3","_result2","draftUrl","url","_await$dedupedFetch","_temp2","_res$url","paginatedQuery","_paginatedQuery","_extends2","_opt$generateTags","generateIdTags","maxTags","_opt$includeDrafts","includeDrafts","defaultOptions","generateTags","process","env","NEXT_DATO_UTILS_DISABLE_TAGS","NEXT_DATO_UTILS_ENABLE_LOGS","DATOCMS_API_TOKEN","NEXT_PUBLIC_DATOCMS_API_TOKEN","DATOCMS_ENVIRONMENT","NEXT_PUBLIC_DATOCMS_ENVIRONMENT","definitions","e","print","variables","reject","onFulfilled","onRejected","callback","_this","_isSettledPact","thenable","undefined","excludeInvalid","visualEditingBaseUrl","isInteger","REVALIDATE_TIME","parseInt","_query$definitions2","_operation$variableDe","_operation$variableDe2","_ref2","_options$variables$fi","_options$variables","_firstVariable$defaul","operation","_ref","kind","firstVariable","variableDefinitions","variable","skipVariable","pageKeys","k","startsWith","endsWith","pageKeyMap","reduce","acc","cur","_operation$selectionS","_operation$selectionS2","selectionSet","selections","arguments","a","metaFilter","first","defaultValue","count","_temp","_for","some","maxPageKey","sort","b","skip","pageData","concat","_result","_exit","_catch","cache","_process$env$DATOCMS_","_process$env$DATOCMS_2","Authorization","method","next","response","json","responseBody","_tags$length","ok","status","statusText","errors","allTags","traverse","_ref3","String","index","self","useApiQuery","_initialData$paginati","_initialData$paginati2","_initialData$paginati3","initialData","_ref$pageSize","pageSize","_ref$includeDrafts","initial","setInitial","_useState2","setData","_useState3","no","pagination","end","page","setPage","_useState4","error","setError","_useState5","loading","setLoading","load","vars","d","mergeData","nextPage","_d$k","p","newData","oldData","loadMore"],"mappings":"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"}